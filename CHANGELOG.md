# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

<!-- start changelog -->

## [v5 (Unreleased)](https://github.com/jeertmans/manim-slides/compare/v4.16.0...HEAD)

Prior to v5, there was no real CHANGELOG other than the GitHub releases,
with most of the content automatically generated by GitHub from merged
pull requests.

In an effort to better document changes, this CHANGELOG document is now created.

### Added

- Added the following option aliases to `manim-slides present`:
  `-F` and `--full-screen` for `fullscreen`,
  `-H` for `--hide-mouse`,
  and `-S` for `--screen-number`.
  [#243](https://github.com/jeertmans/manim-slides/pull/243)
- Added a full screen key binding (defaults to <kbd>F</kbd>) in the
  presenter.
  [#243](https://github.com/jeertmans/manim-slides/pull/243)
- Added support for including code from a file in Manim Slides
  Sphinx directive.
  [#261](https://github.com/jeertmans/manim-slides/pull/261)
- Added the `manim_slides.slide.animation` module and created the
  `Wipe` and `Zoom` classes, that return a new animation.
  [#285](https://github.com/jeertmans/manim-slides/pull/285)
- Added two environ variables, `MANIM_API` and `FORCE_MANIM_API`,
  to specify the `MANIM_API` to be used: `manim` and `manimce` will
  import `manim`, while `manimgl` and `manimlib` will import `manimlib`.
  If one of the two APIs is already imported, use `FORCE_MANIM_API=1` to
  override this.
  [#285](https://github.com/jeertmans/manim-slides/pull/285)
- Added a working `ThreeDSlide` class compatible with `manimlib`.
  [#285](https://github.com/jeertmans/manim-slides/pull/285)

### Changed

- Automatically concatenate all animations from a slide into one.
  This is a **breaking change** because the config file format is
  different from the previous one. For migration help, see associated PR.
  [#242](https://github.com/jeertmans/manim-slides/pull/242)
- Changed the player interface to only use PySide6, and not a combination of
  PySide6 and OpenCV. A few features have been removed (see removed section),
  but the new player should be much easier to maintain and more performant,
  than its predecessor.
  [#243](https://github.com/jeertmans/manim-slides/pull/243)
- Changed the slide config format to exclude unecessary information.
  `StypeType` is removed in favor to one boolean `loop` field. This is
  a **breaking change** and one should re-render the slides to apply changes.
  [#243](https://github.com/jeertmans/manim-slides/pull/243)
- Renamed key bindings in the config. This is a **breaking change** and one
  should either manually rename them (see list below) or re-init a config.
  List of changes: `CONTINUE` to `NEXT`, `BACK` to `PREVIOUS`, and
  `REWIND` to `REPLAY`.
  [#243](https://github.com/jeertmans/manim-slides/pull/243)
- Conversion to HTML now uses Jinja2 templating. The template file has
  been modified accordingly, and old templates will not work anymore.
  This is a **breaking change**.
  [#271](https://github.com/jeertmans/manim-slides/pull/271)
- Bumped RevealJS' default version to v4.6.1, and added three new themes.
  [#272](https://github.com/jeertmans/manim-slides/pull/272)
- Changed the logger such that `make_logger` is called at module import,
  and we do not use Manim's logger anymore.
  [#285](https://github.com/jeertmans/manim-slides/pull/285)
- Changed `Slide.wipe` and `Slide.zoom` to automatically call `self.play`.
  This is a **breaking change** as calling `self.play(self.wipe(...))` now
  raises an error (because `None` is not an animation).
  [#285](https://github.com/jeertmans/manim-slides/pull/285)
- Changed the `manim_slides.slide` module to contain submodules, i.e.,
  `slide.manim`, `slide.manimlib`, `slide.animation`.
  Only `slide.animation` is part of the public API.
  Rules for choosing the Manim API (either `manim` or `manimlib`) has changed,
  and defaults to the currently imported module, with a preference for `manim`.
  [#285](https://github.com/jeertmans/manim-slides/pull/285)

### Fixed

- Patched enums in `manim_slides/convert.py` to correctly call `str`'s
  `__str__` method, and not the `Enum` one.
  This bug was discovered by
  [@alexanderskulikov](https://github.com/alexanderskulikov) in
  [#253](https://github.com/jeertmans/manim-slides/discussions/253), caused by
  Python 3.11's change in how `Enum` work.
  [#257](https://github.com/jeertmans/manim-slides/pull/257).
- Fixed potential non-existing parent path issue in
  `manim convert`'s destination path.
  [#262](https://github.com/jeertmans/manim-slides/pull/262)

### Removed

- Removed `--start-at-animation-number` option from `manim-slides present`.
  [#242](https://github.com/jeertmans/manim-slides/pull/242)
- Removed the following options from `manim-slides present`:
  `--resolution`, `--record-to`, `--resize-mode`, and `--background-color`.
  [#243](https://github.com/jeertmans/manim-slides/pull/243)
- Removed `PERF` verbosity level because not used anymore.
  [#245](https://github.com/jeertmans/manim-slides/pull/245)

<!-- end changelog -->
